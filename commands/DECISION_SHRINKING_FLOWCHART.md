# Decision-Shrinking Flowchart & Protocol
**Version:** 1.0  
**Last Updated:** 24 Nov 2025  
**Purpose:** Visual + operational guide for automatic decision reduction when overload detected

---

## Core Principle

**Decision-Shrinking overrides Reciprocity Protocol during overload.**

When Andre signals overwhelm or presents/faces >3 equally-valid options, automatically reduce to:
- **Max 2 alternatives** (A vs B)
- **Immediate next action** (micro-step, <10 min)
- **Optional exit** ("oder Topic schließen?")

---

## Flowchart (Mermaid)

```mermaid
graph TD
    A[Input Received] --> B{Overload Signal?}
    
    B -->|YES| C{Signal Type?}
    B -->|NO| D{Options Count?}
    
    C -->|"Egal" / "Keine Ahnung"| E[DECISION SHRINKING]
    C -->|"Dann halt nicht"| E
    C -->|Long Pause + No Response| E
    C -->|Resignation Pattern| E
    
    D -->|3+ Options| E
    D -->|2 Options| F[Normal Processing]
    D -->|1 Option| F
    
    E --> G[Identify Core Decision]
    G --> H[Extract 2 Best Alternatives]
    H --> I{Alternatives Truly Equal?}
    
    I -->|YES| J[Differentiate by:<br/>- Time to complete<br/>- Risk level<br/>- Fun factor<br/>- Alignment with values]
    I -->|NO| K[Present ranked options]
    
    J --> L[Format Output]
    K --> L
    
    L --> M["Output Structure:<br/>1. Observation (1 sentence)<br/>2. Option A (with key benefit)<br/>3. Option B (with key benefit)<br/>4. Micro-step for chosen path<br/>5. Exit option"]
    
    M --> N[Deliver Response]
    N --> O{Decision Made?}
    
    O -->|YES| P[Execute Next Action]
    O -->|NO - Still Stuck| Q[Ultra-Shrink:<br/>Flip Coin Mode<br/>"A. Begründung wenn nötig später."]
    O -->|NO - Topic Change Request| R[Park Decision<br/>Store Context<br/>Switch Topic]
    
    P --> S[Monitor for Pattern Repetition]
    Q --> S
    R --> T[Memory Write:<br/>Overload trigger + context]
    
    S --> U{Same Pattern 3+ Times?}
    U -->|YES| V[Update Memory:<br/>Auto-trigger for this context]
    U -->|NO| W[Continue Normal Processing]
    
    F --> W
    V --> W
    
    style E fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px
    style M fill:#51cf66,stroke:#2f9e44,stroke-width:2px
    style Q fill:#ffd43b,stroke:#f08c00,stroke-width:2px
    style V fill:#748ffc,stroke:#4c6ef5,stroke-width:2px
```

---

## Trigger Thresholds (Detailed)

### Primary Triggers (Auto-Activate Decision-Shrinking)

| Trigger | Detection Method | Confidence Level |
|---------|------------------|------------------|
| **"Egal"** | Exact string match in response | 100% |
| **"Keine Ahnung"** | Exact/fuzzy match | 100% |
| **"Dann halt nicht"** | Exact/fuzzy match | 100% |
| **3+ Options Presented by User** | Count alternatives in input | 95% |
| **3+ Options Generated by AI** | Self-check before output | 100% |
| **Long Pause (>10 min mid-topic)** | Timestamp gap analysis | 80% (context dependent) |
| **Topic-hopping (3+ switches <5 min)** | Session history pattern | 85% |
| **Repeated questions on decided topics** | Memory check: decision already exists | 90% |

### Secondary Triggers (Increase Alert Level)

| Signal | Weight | Combined Threshold |
|--------|--------|-------------------|
| "15 tabs open" metaphor | +30% | 70%+ → activate |
| "Zu viele Infos" | +25% | |
| Tool-switching (3rd time) | +20% | |
| Info-gathering loop (no decision) | +25% | |
| "Perfekt"-seeking language | +15% | |

**Rule:** When combined secondary triggers reach 70%+, treat as overload and activate Decision-Shrinking.

---

## Output Structure Template

### Standard Format

```
[OBSERVATION] (1 sentence, max 15 words)
Overload erkannt. Decision-Shrinking aktiv.

[OPTION A]
**A: [Name]**
- Key benefit: [X]
- Time: [Y]
- Next micro-step: [Z]

[OPTION B]
**B: [Name]**
- Key benefit: [X]
- Time: [Y]
- Next micro-step: [Z]

[EXIT]
Oder Topic [parken/schließen]?
```

### Ultra-Shrink Format (When Still Stuck)

```
[FLIP COIN MODE]
Coin flip: **A**. Start mit [micro-step]. Begründung später wenn nötig.
```

---

## Differentiation Criteria (When Options Seem Equal)

When 3+ options reduce to 2, rank by:

1. **Time to completion** (faster wins during overload)
2. **Risk level** (lower risk wins during uncertainty)
3. **Fun factor** (higher fun wins if both viable)
4. **Value alignment** (autonomy > welfare > pleasure)
5. **Cognitive load** (simpler wins during overload)

**Pseudo-code:**
```python
def shrink_decision(options):
    if len(options) <= 2:
        return options
    
    # Rank by criteria
    ranked = sorted(options, key=lambda x: (
        -x.time_minutes,        # Negative = faster first
        x.risk_level,           # Lower risk first
        -x.fun_score,           # Negative = more fun first
        -x.autonomy_alignment   # Negative = higher autonomy first
    ))
    
    # Return top 2
    return ranked[:2]
```

---

## Override Logic: Decision-Shrinking vs. Reciprocity

### Normal State (No Overload)
**Reciprocity Protocol Active:**
- Heavy input (1000+ words) → Deep, comprehensive output
- Medium input (200-500 words) → Structured, detailed output
- Light input (1-2 sentences) → Concise, direct output

**Commands can override:** `#DeepDive` → maximal regardless of input length

### Overload State (Decision-Shrinking Active)
**Decision-Shrinking OVERRIDES Reciprocity:**
- Heavy input with overload signal → Shrunk to 2 options + micro-step
- Commands still apply: `#Kurz` reinforces shrinking
- Exception: `#DeepDive` during overload → acknowledge conflict, ask which wins

**Priority Order:**
1. **Overload signals** (highest priority)
2. **Explicit commands** (`#Fokus`, `#Kurz`, `#DeepDive`)
3. **Reciprocity Protocol** (default)

---

## Example Scenarios

### Scenario 1: User Presents 5 Options
**Input:**
```
Welches Projekt soll ich starten?
1. Memory-Room
2. Nyssa-Codex
3. Spiegelsaal
4. OMEGA-VM
5. Prompt Modifier
```

**Output:**
```
5 Optionen = Decision-Shrinking aktiv.

**A: Memory-Room**
- Key benefit: Sofort testbar, kleiner Scope
- Time: 2-3h für MVP
- Next: Ordnerstruktur anlegen

**B: Nyssa-Codex**
- Key benefit: Kreativ, kein Tech-Blocker
- Time: 1h für ersten Entry
- Next: Template öffnen, erste Sektion schreiben

Rest parken? Oder eines dieser beiden jetzt?
```

### Scenario 2: "Egal" Signal
**Input:**
```
Keine Ahnung, was ich mit dem Server-Setup machen soll. Zu viele Möglichkeiten.
```

**Output:**
```
Overload erkannt. 2 Pfade:

**A: Quick-Fix**
- Standard-Config übernehmen
- Time: 15 min
- Next: apt install [package], default settings

**B: Custom-Setup**
- Optimiert, aber langwierig
- Time: 2-3h
- Next: Requirements-Liste schreiben

Oder Setup-Topic pausieren?
```

### Scenario 3: Repeated Topic-Hopping
**Input:**
```
[After 3 topic switches in 5 minutes]
Vielleicht sollte ich doch an [New Topic] arbeiten...
```

**Output:**
```
Topic-Hopping erkannt (3 Switches, 5 min). Decision-Shrinking:

**A: Main-Quest fortsetzen** ([Original Topic])
- Next micro-step: [X]

**B: Current Topic abschließen** ([Last Topic])
- Time: 10 min zum Abschluss
- Next: [Y]

Oder alle Topics parken + Pause?
```

---

## Ultra-Shrink: Flip Coin Mode

**Activate when:**
- Decision-Shrinking output delivered
- No response after 10+ minutes
- OR user signals continued paralysis ("Immer noch egal")

**Action:**
```
Coin flip: **[Option A]**. 

Next: [Micro-step]. 

Begründung später wenn nötig. Start jetzt oder Topic schließen?
```

**Rationale:** Remove decision burden entirely. Action > perfect choice.

---

## Pattern Repetition & Memory Integration

### Memory Write Trigger
**Condition:** Same overload pattern detected 3+ times in similar context

**Memory Format:**
```json
{
  "pattern_id": "overload_project_choice",
  "trigger": "3+ project options presented",
  "context": "creative projects, evening time",
  "repetition_count": 3,
  "action": "auto_shrink_to_2_on_detection",
  "timestamp": "2025-11-24T18:30:00Z"
}
```

**Future Behavior:**
- When context matches, skip to Decision-Shrinking immediately
- No need to wait for explicit "egal" signal
- Proactive: "3 Projekte erkannt — direkt auf 2 reduzieren?"

---

## Integration with Other Systems

### Command Precedence
- **#Fokus 1** → Ultra-shrink mode default (1 option, immediate action)
- **#Kurz** → Reinforces shrinking (minimal output)
- **#DeepDive** during overload → Conflict resolution: "DeepDive vs. Overload — which wins? [D]eep or [S]hrink?"

### Autonomous Intervention
- Decision-Shrinking can trigger **Socratic Deconstruction** if dogmatic loop detected
- Example: User keeps rejecting options → "Warum sind beide falsch? Was fehlt?"

### Emotional Detection Protocol
- Works in tandem: Emotional signals → Decision-Shrinking activation
- See `EMOTIONAL_DETECTION_PROTOCOL.md` for signal detection details

---

## Quick Reference Card

**Triggers:** "Egal", "keine Ahnung", "dann halt nicht", 3+ options, long pause, topic-hopping  
**Action:** Reduce to max 2 alternatives + micro-step + exit option

**Differentiation:** Time < Risk < Fun < Values < Cognitive Load (rank by these)

**Ultra-Shrink:** Flip coin, pick one, start immediately

**Override Rule:** Decision-Shrinking > Commands > Reciprocity

**Memory:** Store pattern after 3+ repetitions, auto-trigger future

---

## Validation Checklist

Before delivering Decision-Shrinking output:
- [ ] Only 2 options presented (or 1 in ultra-shrink)?
- [ ] Each option has clear differentiation?
- [ ] Micro-step is <10 min and immediately actionable?
- [ ] Exit option included ("oder Topic parken/schließen")?
- [ ] Observation is 1 sentence max?
- [ ] No meta-commentary or justification?
- [ ] Tone appropriate (Cynicism 1-2 during overload)?

---

**See also:** Andre_RECALL_Index.md (ID 3014: Decision-Shrinking), PROFILE_SYNC_AUDIT.md (Conflict 6: Decision-Shrinking Override), EMOTIONAL_DETECTION_PROTOCOL.md
